<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PlateauIGR</title>

  <!-- FAVION ICON -->
  <link rel="shortcut icon" href="assets/img/favicon.png" type="image/x-icon" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="assets/css/responsive.css" />
  <link rel="stylesheet" href="assets/fontawesome/css/all.css" />
  <link rel="stylesheet" href="assets/js/aos-master/dist/aos.css" />

  <style>
    .formTabs {
      display: none;
    }

    /* Responsive container */
    .form-container {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      padding: 0 15px;
    }

    /* Income Table Styles */
    .income-table-wrapper {
      width: 100%;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      margin-top: 10px;
    }

    .income-table {
      width: 100%;
      min-width: 500px;
      border-collapse: collapse;
    }

    .income-table th,
    .income-table td {
      border: 1px solid #dee2e6;
      padding: 10px 8px;
      text-align: center;
      vertical-align: middle;
    }

    .income-table th {
      background-color: #f8f9fa;
      font-weight: 600;
      color: #333;
      font-size: 14px;
      white-space: nowrap;
    }

    .income-table td:first-child {
      text-align: left;
      font-weight: 500;
      min-width: 150px;
    }

    .income-table input[type="number"] {
      width: 100%;
      min-width: 80px;
      padding: 6px 8px;
      border: 1px solid #ced4da;
      border-radius: 4px;
      text-align: right;
      font-size: 14px;
    }

    .income-table input:focus {
      outline: none;
      border-color: #86b7fe;
      box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }

    .other-source-row {
      background-color: #f8f9fa;
    }

    .other-source-row input[type="text"] {
      text-align: left;
      min-width: 120px;
    }

    .btn-add-source {
      background-color: #198754;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .btn-add-source:hover {
      background-color: #157347;
    }

    .btn-remove-source {
      background-color: #dc3545;
      color: white;
      border: none;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      flex-shrink: 0;
    }

    .btn-remove-source:hover {
      background-color: #bb2d3b;
    }

    .pit-section {
      background-color: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      padding: 15px;
      margin-top: 20px;
    }

    .pit-section h2 {
      color: #333;
      font-size: 1.15rem;
      font-weight: 600;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #198754;
    }

    /* Validation styles */
    .is-invalid {
      border-color: #dc3545 !important;
    }

    .invalid-feedback {
      display: none;
      color: #dc3545;
      font-size: 12px;
      margin-top: 4px;
    }

    .is-invalid~.invalid-feedback,
    .show-error .invalid-feedback {
      display: block;
    }

    .form-group {
      margin-bottom: 0;
    }

    .form-group label {
      font-size: 14px;
      margin-bottom: 4px;
      display: block;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .px-10 {
        padding-left: 15px !important;
        padding-right: 15px !important;
      }

      .form-row {
        flex-direction: column;
      }

      .form-row .form-group {
        width: 100% !important;
        margin-bottom: 15px;
      }

      .pit-section {
        padding: 12px;
      }

      .pit-section h2 {
        font-size: 1rem;
      }

      .income-table th,
      .income-table td {
        padding: 8px 6px;
        font-size: 13px;
      }

      .income-table input[type="number"] {
        padding: 5px 6px;
        font-size: 13px;
        min-width: 70px;
      }

      .other-source-name-cell {
        min-width: 140px;
      }

      .other-source-name-cell .flex {
        flex-direction: column;
        gap: 8px !important;
      }

      .other-source-name-cell input[type="text"] {
        width: 100%;
      }

      .btn-remove-source {
        align-self: flex-start;
        padding: 6px 12px;
      }

      .button {
        width: 100% !important;
      }

      h1.text-4xl {
        font-size: 1.75rem;
      }

      h1.text-2xl {
        font-size: 1.25rem;
      }

      .table {
        font-size: 14px;
      }

      .breadcrumb {
        padding-left: 15px !important;
        padding-right: 15px !important;
      }

      .breadcrumb .flex {
        flex-wrap: wrap;
      }
    }

    @media (max-width: 480px) {
      .income-table {
        min-width: 400px;
      }

      .income-table th,
      .income-table td {
        padding: 6px 4px;
        font-size: 12px;
      }

      .income-table td:first-child {
        min-width: 100px;
        font-size: 11px;
      }

      .income-table input[type="number"] {
        min-width: 60px;
        padding: 4px;
        font-size: 12px;
      }

      .btn-add-source {
        width: 100%;
        justify-content: center;
        padding: 10px 16px;
      }
    }

    /* Ensure form inputs look consistent */
    .form-control,
    .form-select {
      font-size: 14px;
      padding: 8px 12px;
    }

    @media (max-width: 768px) {

      .form-control,
      .form-select {
        font-size: 16px;
        /* Prevents zoom on iOS */
        padding: 10px 12px;
      }
    }
  </style>
</head>

<body>

  <header class="flex justify-between px-10 bg-white py-3" id="theHeader">


  </header>

  <section class="h-[20vh] bg-[url('./assets/img/eservices.png')] relative headerBeginner">
    <div class="absolute w-full h-full" style="background: #00000060;"></div>

    <div class="flex justify-center items-center h-full">
      <h1 class="fontBold text-center text-white text-3xl z-10 relative">E-Services</h1>
    </div>

  </section>

  <section class="breadcrumb border-b border-gray-200 px-10 py-3 bg-white">
    <div class="flex items-center gap-2">
      <a href="index.html" class="text-[#555555]">Home</a>
      <iconify-icon icon="ic:sharp-arrow-right-alt" class="text-xl text-[#555555]"></iconify-icon>
      <a class="textPrimary" href="eservices.html">E-Services</a>
      <iconify-icon icon="ic:sharp-arrow-right-alt" class="text-xl text-[#555555]"></iconify-icon>
      <p class="textPrimary">Tax Filing</p>
    </div>
  </section>


  <section class="mt-3 px-10">
    <section class="formTabs">
      <h1 class="text-4xl text-center text-[#101828] mb-2">Tax Filing</h1>
      <p class="text-center">Follow the steps below</p>

      <div class="flex justify-center mt-10">
        <ul class="list-decimal md:w-[60%] w-full">
          <li class="text-[#555555] mb-2">Download the Self-assessment form that applies to the tax you're filing.</li>
          <li class="text-[#555555] mb-2"> Fill it appropriately.</li>
          <li class="text-[#555555] mb-2">Then proceed to upload it alongside other required documents.</li>
          <li class="text-[#555555] mb-2">Generate a reference number which you can use to check if your invoice has
            generated If your invoice has
            been generated,</li>
          <li class="text-[#555555] mb-2">If your invoice has been generated, you can go to the homepage and click on
            "Pay Now" to pay. </li>
        </ul>
      </div>

      <h1 class="text-2xl fontBold text-center mt-4">Taxes that need to be filed </h1>

      <div class="flex justify-center">
        <div class="md:w-[60%] w-full mt-4 overflow-x-auto">
          <table class="table w-full">
            <thead>
              <tr>
                <td class="text-[#555555] text-center">S/N</td>
                <td class="text-[#555555] text-center">Description</td>
                <td class="text-[#555555] text-center">Frequency</td>
                <td class="text-[#555555] text-center"></td>
              </tr>
            </thead>
            <tbody class="text-center text-[#101828]">
              <tr>
                <td>1</td>
                <td>Personal Income Tax (PAYE)</td>
                <td>Monthly</td>
                <td>
                  <a href="./assets/annual-returns-template.xlsx" download>
                    <iconify-icon icon="material-symbols:download" class="text-2xl"></iconify-icon>
                  </a>
                </td>
              </tr>
              <tr>
                <td>2</td>
                <td>Withholding Tax (WHT)</td>
                <td>Monthly</td>
                <td>
                  <a href="./assets/annual-returns-template.xlsx" download>
                    <iconify-icon icon="material-symbols:download" class="text-2xl"></iconify-icon>
                  </a>
                </td>
              </tr>
              <tr>
                <td>3</td>
                <td>Education Tax</td>
                <td>Annually</td>
                <td>
                  <a href="./assets/annual-returns-template.xlsx" download>
                    <iconify-icon icon="material-symbols:download" class="text-2xl"></iconify-icon>
                  </a>
                </td>
              </tr>
              <tr>
                <td>4</td>
                <td>Development levy</td>
                <td>One-off</td>
                <td>
                  <a href="./assets/annual-returns-template.xlsx" download>
                    <iconify-icon icon="material-symbols:download" class="text-2xl"></iconify-icon>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>


      <div class="flex justify-center mt-4">
        <button class="button md:w-[60%] w-full" onclick="nextPrev(1)">Proceed</button>
      </div>
    </section>

    <section class="mt-10 formTabs">
      <div class="flex justify-center mt-10">

        <form action="" class="form-container" id="taxFilingForm">
          <h1 class="text-lg fontBold mb-4">Tax Filing</h1>

          <div class="flex flex-col md:flex-row items-start gap-3 mb-4 form-row">
            <div class="form-group w-full md:w-6/12">
              <label for="">Select your Category*</label>
              <select class="form-select taxFInput" data-name="category" required id="selectAccType">
                <option value="Individual" selected>Individual</option>
                <option value="Corporate">Corporate</option>
                <option value="State Agency">State Agency</option>
                <option value="Federal Agency">Federal Agency</option>
              </select>
            </div>

            <div class="form-group w-full md:w-6/12">
              <label for="">What Tax do you want to file for?*</label>
              <select class="form-select taxFInput" data-name="tax_to_file" required id="">
                <option value="PAYE">Pay As You Earn Tax (PAYE)</option>
                <option value="Withholding Tax (WHT)">Withholding Tax (WHT)</option>
                <option value="Education Tax">Education Tax</option>
                <option value="Development levy">Development levy</option>
              </select>
            </div>

          </div>

          <!-- Dynamic Name Fields based on Category -->
          <div id="nameFieldsContainer">
            <div class="flex flex-col md:flex-row items-start gap-3 mb-4 form-row" id="individualNameFields">
              <div class="form-group w-full md:w-6/12">
                <label for="">First name*</label>
                <input type="text" class="form-control taxFInput" data-name="first_name" required
                  placeholder="Enter your first name">
              </div>

              <div class="form-group w-full md:w-6/12">
                <label for="">Surname*</label>
                <input type="text" class="form-control taxFInput" data-name="surname" required
                  placeholder="Enter your last name">
              </div>
            </div>
          </div>

          <div class="flex flex-col md:flex-row items-start gap-3 mb-4 form-row">
            <div class="form-group w-full md:w-6/12">
              <label for="">Email*</label>
              <input type="email" class="form-control taxFInput" data-name="email" required id="emailInput"
                placeholder="Enter your email">
              <div class="invalid-feedback" id="emailError">Please enter a valid email address</div>
            </div>

            <div class="form-group w-full md:w-6/12">
              <label for="">Phone number*</label>
              <input type="tel" class="form-control taxFInput" data-name="phone_number" required id="phoneInput"
                placeholder="e.g., 08012345678 or +2348012345678">
              <div class="invalid-feedback" id="phoneError">Please enter a valid Nigerian phone number</div>
            </div>

          </div>

          <div class="form-group w-full mb-4">
            <label for="">Tax Type*</label>
            <select class="form-select taxFInput" data-name="tax_type" required>
              <option value="Formal" selected>Formal</option>
              <option value="Informal">Informal</option>
            </select>
          </div>

          <!-- Simplified Upload Section -->
          <div class="" id="uploadSection">
            <div class="flex flex-col md:flex-row gap-3 mt-3 form-row">
              <div class="form-group w-full md:w-6/12">
                <label class="">Tax Filing and Returns Template *</label>
                <input class="form-control mt-1 taxFInput2" data-name="form_assessment_upload" accept=".xlsx, .csv"
                  required type="file" />
              </div>
              <div class="form-group w-full md:w-6/12">
                <label class="">Evidence of Tax Payment</label>
                <input class="form-control mt-1 taxFInput2" data-name="evidence_of_tax_payment"
                  accept=".xlsx, .csv, .pdf, .jpg, .png" type="file" />
              </div>
            </div>
          </div>

          <div class="flex flex-col md:flex-row items-start gap-3 mt-4 form-row">
            <div class="form-group w-full md:w-6/12">
              <label for="">Start date*</label>
              <input type="date" class="form-control taxFInput" data-name="start_date" required>
            </div>

            <div class="form-group w-full md:w-6/12">
              <label for="">End date*</label>
              <input type="date" class="form-control taxFInput" data-name="end_date" required>
            </div>
          </div>

          <!-- PIT Returns Section -->
          <div class="pit-section mt-4">
            <h2>Personal Income Tax (PIT) Returns</h2>

            <div class="flex flex-col md:flex-row items-start gap-3 mb-4 form-row">
              <div class="form-group w-full md:w-6/12">
                <label for="">TIN (Tax Identification Number)*</label>
                <input type="text" class="form-control taxFInput" data-name="tin" required id="tinInput"
                  placeholder="Enter your TIN">
                <div class="invalid-feedback" id="tinError">Please enter a valid TIN</div>
              </div>

              <div class="form-group w-full md:w-6/12">
                <label for="">Nationality*</label>
                <input type="text" class="form-control taxFInput" data-name="nationality" required
                  placeholder="Enter your nationality" value="Nigerian">
              </div>
            </div>

            <div class="flex flex-col md:flex-row items-start gap-3 mb-4 form-row">
              <div class="form-group w-full md:w-6/12">
                <label for="">Occupation/Type of Business*</label>
                <select class="form-select taxFInput" id="busiType" data-name="occupation" required>
                  <option value="">Select --</option>
                </select>

              </div>

              <div class="form-group w-full md:w-6/12">
                <label for="">Residential Address*</label>
                <input type="text" class="form-control taxFInput" data-name="address" required
                  placeholder="Enter your residential address">
              </div>
            </div>

            <!-- <div class="form-group w-full mb-4">
              <label for="">Office Address</label>
              <input type="text" class="form-control taxFInput" data-name="address"
                placeholder="Enter your office address">
            </div> -->

            <h3 class="text-md fontBold mb-3">Source of Income and Income Received</h3>

            <div class="income-table-wrapper">
              <table class="income-table" id="incomeSourceTable">
                <thead>
                  <tr>
                    <th style="width: 30%;">Source</th>
                    <th id="year1Header">Year 1 (₦)</th>
                    <th id="year2Header">Year 2 (₦)</th>
                    <th id="year3Header">Year 3 (₦)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1. Trustees/Properties</td>
                    <td><input type="number" class="form-control taxFInput" data-name="trustees_year1"
                        placeholder="0.00" min="0" step="0.01"></td>
                    <td><input type="number" class="form-control taxFInput" data-name="trustees_year2"
                        placeholder="0.00" min="0" step="0.01"></td>
                    <td><input type="number" class="form-control taxFInput" data-name="trustees_year3"
                        placeholder="0.00" min="0" step="0.01"></td>
                  </tr>
                  <tr>
                    <td>2. Trade/Profession/Business</td>
                    <td><input type="number" class="form-control taxFInput" data-name="trade_year1" placeholder="0.00"
                        min="0" step="0.01"></td>
                    <td><input type="number" class="form-control taxFInput" data-name="trade_year2" placeholder="0.00"
                        min="0" step="0.01"></td>
                    <td><input type="number" class="form-control taxFInput" data-name="trade_year3" placeholder="0.00"
                        min="0" step="0.01"></td>
                  </tr>
                  <tr>
                    <td>3. Dividend/Interest</td>
                    <td><input type="number" class="form-control taxFInput" data-name="dividend_year1"
                        placeholder="0.00" min="0" step="0.01"></td>
                    <td><input type="number" class="form-control taxFInput" data-name="dividend_year2"
                        placeholder="0.00" min="0" step="0.01"></td>
                    <td><input type="number" class="form-control taxFInput" data-name="dividend_year3"
                        placeholder="0.00" min="0" step="0.01"></td>
                  </tr>
                </tbody>
                <tbody id="otherSourcesContainer">
                  <!-- Dynamic other sources will be added here -->
                </tbody>
              </table>
            </div>

            <div class="mt-3">
              <button type="button" class="btn-add-source" id="addOtherSource">
                <iconify-icon icon="material-symbols:add"></iconify-icon>
                Add Other Source
              </button>
            </div>

          </div>
          <!-- End PIT Returns Section -->

        </form>

      </div>




      <div class="flex justify-center mt-4 px-4">
        <button class="button md:w-6/12 w-full" id="generateReferenceNum">Generate Reference Number</button>
      </div>

      <div id="msg_box"></div>
      <div id="msg_box2" class="mb-10"></div>
    </section>

    <!-- Modal -->
    <div class="modal fade" id="refNumberModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-md">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="text-md">Tax filing reference</h1>

          </div>
          <div class="modal-body px-5">

            <h1 class="text-center text-2xl" id="referenceNum">IBS|20230215| 1033</h1>
            <p class="text-center mt-5 text-[#555555]">Thanks for using Intelligent Billing System.</p>
            <p class="text-center text-[#555555]">Kindly check back later to know your application
              status.</p>


            <a href="index.html" class="btn mt-5 button w-full">Go Home</a>
          </div>
        </div>
      </div>
    </div>



  </section>


  <section class="w-full mt-20" id="footer">

  </section>



  <script src="assets/js/jquery.js"></script>
  <script src="assets/bootstrap/js/bootstrap.bundle.js"></script>
  <script src="assets/js/aos-master/dist/aos.js"></script>
  <script src="assets/js/sweetalert2/dist/sweetalert2.all.min.js"></script>
  <script src="https://code.iconify.design/iconify-icon/1.0.2/iconify-icon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>


  <script src="./assets/node_modules/publitio_js_sdk/build/publitio-api.min.js"></script>
  <script src="assets/js/nav.js"></script>
  <script src="assets/js/filetax.js"></script>
</body>

</html>